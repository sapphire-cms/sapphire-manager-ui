<div class="field mb-5">
  <label class="label">
    <span>{{ hiddenCollectionSchema.label || hiddenCollectionSchema.name }}</span>
  </label>

  @if (hiddenCollectionSchema.description) {
    <p class="help">{{ hiddenCollectionSchema.description }}</p>
  }

  @for (item of editableList.items; track item.id) {
    <div class="mt-3">
      <scms-list-item
        [index]="$index"
        [last]="$last"
        (moveUp)="moveUp($index)"
        (moveDown)="moveDown($index)"
        (delete)="delete($index)">
        <scms-document-form [contentSchema]="hiddenCollectionSchema"
                            [document]="item.value"
                            (documentChange)="onValueChange($index, $event)">
        </scms-document-form>
      </scms-list-item>
    </div>
  }

  <div class="has-text-centered mt-3">
    <button type="button"
            class="button is-rounded is-primary"
            title="Add item"
            (click)="addItem()">
      <span class="icon">
        <i class="fa-solid fa-plus"></i>
      </span>
    </button>
  </div>
</div>
